<Window x:Class="EQLogParser.SpritePickerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="EQ Icon Picker" Height="600" Width="820"
        Icon="../main/EQLogParser.ico"
        Background="#2B2520"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
  <Window.Resources>
    <!-- EQ-themed button style for icon slots -->
    <Style x:Key="IconSlotStyle" TargetType="Button">
      <Setter Property="Width" Value="44"/>
      <Setter Property="Height" Value="44"/>
      <Setter Property="Margin" Value="2"/>
      <Setter Property="Padding" Value="0"/>
      <Setter Property="Background" Value="#1A1612"/>
      <Setter Property="BorderBrush" Value="#4A4237"/>
      <Setter Property="BorderThickness" Value="2"/>
      <Setter Property="Cursor" Value="Hand"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="Button">
            <Border Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}">
              <Border BorderBrush="#5A5247" BorderThickness="1" Margin="1">
                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
              </Border>
            </Border>
            <ControlTemplate.Triggers>
              <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#2A2218"/>
                <Setter Property="BorderBrush" Value="#6A6257"/>
              </Trigger>
              <Trigger Property="IsPressed" Value="True">
                <Setter Property="Background" Value="#0A0608"/>
              </Trigger>
            </ControlTemplate.Triggers>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
    </Style>

    <!-- EQ-themed nav button style -->
    <Style x:Key="NavButtonStyle" TargetType="Button">
      <Setter Property="Width" Value="30"/>
      <Setter Property="Height" Value="26"/>
      <Setter Property="Background" Value="#3B3530"/>
      <Setter Property="Foreground" Value="#C9B896"/>
      <Setter Property="BorderBrush" Value="#5A5247"/>
      <Setter Property="BorderThickness" Value="2"/>
      <Setter Property="FontWeight" Value="Bold"/>
      <Setter Property="Cursor" Value="Hand"/>
      <Style.Triggers>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter Property="Background" Value="#4B4540"/>
          <Setter Property="Foreground" Value="#E9D8B6"/>
        </Trigger>
        <Trigger Property="IsEnabled" Value="False">
          <Setter Property="Foreground" Value="#5A5247"/>
          <Setter Property="Background" Value="#2B2520"/>
        </Trigger>
      </Style.Triggers>
    </Style>
  </Window.Resources>

  <Border BorderBrush="#5A5247" BorderThickness="3" Background="#2B2520">
    <Border BorderBrush="#1A1612" BorderThickness="2" Margin="2">
      <Grid Margin="12">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="180"/>
          <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Title Bar -->
        <Border Grid.Row="0" Grid.ColumnSpan="2" 
                Background="#3B3530" 
                BorderBrush="#5A5247" 
                BorderThickness="2"
                Margin="0,0,0,12"
                Padding="8,6">
          <TextBlock Text="EQ Icon Picker" 
                     FontSize="16" 
                     FontWeight="Bold"
                     Foreground="#C9B896"
                     HorizontalAlignment="Center"/>
        </Border>

        <!-- Left Panel: File Browser (compact) -->
        <Border Grid.Row="1" Grid.Column="0"
                Background="#1A1612"
                BorderBrush="#4A4237"
                BorderThickness="2"
                Margin="0,0,8,0">
          <Border BorderBrush="#2A2520" BorderThickness="1" Margin="1">
            <StackPanel Margin="8">
              <TextBlock Text="Sprite Sheets" 
                         FontSize="11"
                         Foreground="#8A7A67"
                         Margin="0,0,0,6"/>
              <ListBox x:Name="sheetsList" 
                       SelectionChanged="SheetsList_SelectionChanged"
                       Background="#0A0608"
                       Foreground="#C9B896"
                       BorderBrush="#5A5247"
                       BorderThickness="2"
                       ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                       Height="460"/>
            </StackPanel>
          </Border>
        </Border>

        <!-- Right Panel: Icon Grid -->
        <Border Grid.Row="1" Grid.Column="1"
                Background="#1A1612"
                BorderBrush="#4A4237"
                BorderThickness="3">
          <Border BorderBrush="#5A5247" BorderThickness="2" Margin="2">
            <!-- Icon Grid -->
            <Border Background="#0A0608"
                    Margin="8">
              <UniformGrid x:Name="gridPanel" 
                           Rows="6" 
                           Columns="6"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
            </Border>
          </Border>
        </Border>

        <!-- Bottom Panel: Pagination and Info -->
        <Border Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
                Background="#3B3530"
                BorderBrush="#5A5247"
                BorderThickness="2"
                Margin="0,12,0,0"
                Padding="12,8">
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*"/>
              <ColumnDefinition Width="Auto"/>
              <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left: Info -->
            <TextBlock Grid.Column="0"
                       x:Name="infoText"
                       Text="36 per page"
                       Foreground="#8A7A67"
                       FontSize="11"
                       VerticalAlignment="Center"/>

            <!-- Center: Pagination -->
            <StackPanel Grid.Column="1" 
                        Orientation="Horizontal"
                        HorizontalAlignment="Center">
              <Button x:Name="prevButton"
                      Content="&lt;"
                      Style="{StaticResource NavButtonStyle}"
                      Click="PrevPage_Click"
                      Margin="0,0,8,0"/>
              <Border Background="#1A1612"
                      BorderBrush="#5A5247"
                      BorderThickness="2"
                      Padding="16,4"
                      MinWidth="100">
                <TextBlock x:Name="pageText"
                           Text="Page 1 of 1"
                           Foreground="#C9B896"
                           FontSize="12"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>
              </Border>
              <Button x:Name="nextButton"
                      Content="&gt;"
                      Style="{StaticResource NavButtonStyle}"
                      Click="NextPage_Click"
                      Margin="8,0,0,0"/>
            </StackPanel>

            <!-- Right: Empty for balance -->
            <Grid Grid.Column="2"/>
          </Grid>
        </Border>
      </Grid>
    </Border>
  </Border>
</Window>
